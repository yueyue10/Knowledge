<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<div style="border :1px solid red; width :500px;height :300px ; overflow:hidden; margin:20px">
    <div id="blackSquare" style="position: relative; width:50px; height:50px; background-color: black;cursor: pointer;color:#fff">wjw</div>
</div>
</body>
<script>
    window.onload = () => {
        //获取拖拽实验对象
        let el=document.getElementById("blackSquare");
        //在该对象上绑定鼠标点击事件
        el.onmousedown = (e) => {
            //鼠标按下，计算鼠标触点距离元素左侧的距离
            let disX = e.clientX - el.offsetLeft;
            let disY = e.clientY - el.offsetTop;
            document.onmousemove = function (e) {
                //计算需要移动的距离
                let t = e.clientX - disX;
                let P = e.clientY - disY;
                //移动当前元素
                if (t >= 0 && t <= window.innerWidth - el.offsetWidth) {
                    el.style.left = t + 'px';
                }
                //移动当前元素
                if (P >= 0 && P <= window.innerHeight - el.offsetHeight ) {
                    el.style.top = P + 'px';
                }
            };
            //鼠标松开时，注销鼠标事件，停止元素拖拽。
            document.onmouseup = function (e) {
                document.onmousemove = null;
                document.onmouseup = null;
            };
        }
    }
</script>
</html>
